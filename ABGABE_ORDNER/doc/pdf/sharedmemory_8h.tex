\hypertarget{sharedmemory_8h}{
\section{sharedmemory.h File Reference}
\label{sharedmemory_8h}\index{sharedmemory.h@{sharedmemory.h}}
}
{\ttfamily \#include $<$stdio.h$>$}\par
{\ttfamily \#include $<$stdlib.h$>$}\par
{\ttfamily \#include $<$errno.h$>$}\par
{\ttfamily \#include $<$string.h$>$}\par
{\ttfamily \#include $<$sys/ipc.h$>$}\par
{\ttfamily \#include $<$sys/shm.h$>$}\par
{\ttfamily \#include $<$sys/types.h$>$}\par
{\ttfamily \#include $<$unistd.h$>$}\par
{\ttfamily \#include $<$sem182.h$>$}\par
{\ttfamily \#include $<$signal.h$>$}\par
Include dependency graph for sharedmemory.h:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=369pt]{sharedmemory_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=152pt]{sharedmemory_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structdata__collect}{data\_\-collect}
\end{DoxyCompactItemize}
\subsection*{Defines}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{sharedmemory_8h_a31d581c814a72a1c69bd228b078d6b69}{SHM\_\-KEY}~getuid() $\ast$ 1000 + 0
\item 
\#define \hyperlink{sharedmemory_8h_a6288615975de689b1e4eae203cc1ccb4}{SEM\_\-R\_\-KEY}~getuid() $\ast$ 1000 + 1
\item 
\#define \hyperlink{sharedmemory_8h_a4d42801d9a59b88dbc96f36b4437d7fb}{SEM\_\-W\_\-KEY}~getuid() $\ast$ 1000 + 2
\item 
\#define \hyperlink{sharedmemory_8h_a064cc7153fdb5596b2079d865dd9e055}{READ\_\-MODE}~0
\item 
\#define \hyperlink{sharedmemory_8h_aa2fe33f497c74e0b5a72f36f121b2ef0}{WRITE\_\-MODE}~1
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structdata__collect}{data\_\-collect} \hyperlink{sharedmemory_8h_a42c35f28b7b42451353f0fa2c273713a}{createSegment} (int shm\_\-size, int shm\_\-mode)
\begin{DoxyCompactList}\small\item\em createSegment \item\end{DoxyCompactList}\item 
int \hyperlink{sharedmemory_8h_afc72a5149e76690fd2584f44298a0e35}{closeSegment} (\hyperlink{structdata__collect}{data\_\-collect} shm\_\-sem)
\begin{DoxyCompactList}\small\item\em closeSegment \item\end{DoxyCompactList}\item 
int \hyperlink{sharedmemory_8h_a06d8598f2e23fda3712b03936627b41b}{parseParameter} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em parseParameter \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
sharedmemory Beispiel 3

\begin{DoxyAuthor}{Author}
Karin Kalman $<$\href{mailto:karin.kalman@technikum-wien.at}{\tt karin.kalman@technikum-\/wien.at}$>$ 

Michael Mueller $<$\href{mailto:michael.mueller@technikum-wien.at}{\tt michael.mueller@technikum-\/wien.at}$>$ 

Gerhard Sabeditsch $<$\href{mailto:gerhard.sabeditsch@technikum-wien.at}{\tt gerhard.sabeditsch@technikum-\/wien.at}$>$ 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2016/05/28
\end{DoxyDate}
\begin{DoxyVersion}{Version}

\end{DoxyVersion}
Revision}
1 

URL: \$HeadURL\$

Last Modified: Author}
Gerhard 

Definition in file \hyperlink{sharedmemory_8h_source}{sharedmemory.h}.

\subsection{Define Documentation}
\hypertarget{sharedmemory_8h_a064cc7153fdb5596b2079d865dd9e055}{
\index{sharedmemory.h@{sharedmemory.h}!READ\_\-MODE@{READ\_\-MODE}}
\index{READ\_\-MODE@{READ\_\-MODE}!sharedmemory.h@{sharedmemory.h}}
\subsubsection[{READ\_\-MODE}]{\setlength{\rightskip}{0pt plus 5cm}\#define READ\_\-MODE~0}}
\label{sharedmemory_8h_a064cc7153fdb5596b2079d865dd9e055}


Definition at line 48 of file sharedmemory.h.

Referenced by createSegment(), and main().\hypertarget{sharedmemory_8h_a6288615975de689b1e4eae203cc1ccb4}{
\index{sharedmemory.h@{sharedmemory.h}!SEM\_\-R\_\-KEY@{SEM\_\-R\_\-KEY}}
\index{SEM\_\-R\_\-KEY@{SEM\_\-R\_\-KEY}!sharedmemory.h@{sharedmemory.h}}
\subsubsection[{SEM\_\-R\_\-KEY}]{\setlength{\rightskip}{0pt plus 5cm}\#define SEM\_\-R\_\-KEY~getuid() $\ast$ 1000 + 1}}
\label{sharedmemory_8h_a6288615975de689b1e4eae203cc1ccb4}


Definition at line 45 of file sharedmemory.h.

Referenced by createSegment().\hypertarget{sharedmemory_8h_a4d42801d9a59b88dbc96f36b4437d7fb}{
\index{sharedmemory.h@{sharedmemory.h}!SEM\_\-W\_\-KEY@{SEM\_\-W\_\-KEY}}
\index{SEM\_\-W\_\-KEY@{SEM\_\-W\_\-KEY}!sharedmemory.h@{sharedmemory.h}}
\subsubsection[{SEM\_\-W\_\-KEY}]{\setlength{\rightskip}{0pt plus 5cm}\#define SEM\_\-W\_\-KEY~getuid() $\ast$ 1000 + 2}}
\label{sharedmemory_8h_a4d42801d9a59b88dbc96f36b4437d7fb}


Definition at line 46 of file sharedmemory.h.

Referenced by createSegment().\hypertarget{sharedmemory_8h_a31d581c814a72a1c69bd228b078d6b69}{
\index{sharedmemory.h@{sharedmemory.h}!SHM\_\-KEY@{SHM\_\-KEY}}
\index{SHM\_\-KEY@{SHM\_\-KEY}!sharedmemory.h@{sharedmemory.h}}
\subsubsection[{SHM\_\-KEY}]{\setlength{\rightskip}{0pt plus 5cm}\#define SHM\_\-KEY~getuid() $\ast$ 1000 + 0}}
\label{sharedmemory_8h_a31d581c814a72a1c69bd228b078d6b69}


Definition at line 44 of file sharedmemory.h.

Referenced by createSegment().\hypertarget{sharedmemory_8h_aa2fe33f497c74e0b5a72f36f121b2ef0}{
\index{sharedmemory.h@{sharedmemory.h}!WRITE\_\-MODE@{WRITE\_\-MODE}}
\index{WRITE\_\-MODE@{WRITE\_\-MODE}!sharedmemory.h@{sharedmemory.h}}
\subsubsection[{WRITE\_\-MODE}]{\setlength{\rightskip}{0pt plus 5cm}\#define WRITE\_\-MODE~1}}
\label{sharedmemory_8h_aa2fe33f497c74e0b5a72f36f121b2ef0}


Definition at line 49 of file sharedmemory.h.

Referenced by main().

\subsection{Function Documentation}
\hypertarget{sharedmemory_8h_afc72a5149e76690fd2584f44298a0e35}{
\index{sharedmemory.h@{sharedmemory.h}!closeSegment@{closeSegment}}
\index{closeSegment@{closeSegment}!sharedmemory.h@{sharedmemory.h}}
\subsubsection[{closeSegment}]{\setlength{\rightskip}{0pt plus 5cm}int closeSegment ({\bf data\_\-collect} {\em shm\_\-sem})}}
\label{sharedmemory_8h_afc72a5149e76690fd2584f44298a0e35}
closeSegment

cleans up semaphores, detatches shared memory segment and mark as removeable


\begin{DoxyParams}{Parameters}
\item[{\em shm\_\-sem}]\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$>$ -\/1 or -\/1
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
\item[{\em $>$}]-\/1 ==$>$ Everything OK \item[{\em -\/1}]==$>$ Somthing goes wrong \end{DoxyRetVals}


Definition at line 140 of file sharedfunctions.c.

References data\_\-collect::segment, data\_\-collect::sem\_\-r, data\_\-collect::sem\_\-w, and data\_\-collect::shmid.

Referenced by createSegment(), and main().\hypertarget{sharedmemory_8h_a42c35f28b7b42451353f0fa2c273713a}{
\index{sharedmemory.h@{sharedmemory.h}!createSegment@{createSegment}}
\index{createSegment@{createSegment}!sharedmemory.h@{sharedmemory.h}}
\subsubsection[{createSegment}]{\setlength{\rightskip}{0pt plus 5cm}{\bf data\_\-collect} createSegment (int {\em shm\_\-size}, \/  int {\em shm\_\-mode})}}
\label{sharedmemory_8h_a42c35f28b7b42451353f0fa2c273713a}
createSegment

creates a a ring buffer and there semaphores


\begin{DoxyParams}{Parameters}
\item[{\em shm\_\-size}]size of the ring buffer \item[{\em shm\_\-mode}](read or write)\end{DoxyParams}
\begin{DoxyReturn}{Returns}
NULL or ! NULL
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
\item[{\em !}]NULL ==$>$ Everything OK \item[{\em NULL}]==$>$ Somthing goes wrong \end{DoxyRetVals}


Definition at line 50 of file sharedfunctions.c.

References closeSegment(), READ\_\-MODE, data\_\-collect::segment, data\_\-collect::sem\_\-r, SEM\_\-R\_\-KEY, data\_\-collect::sem\_\-w, SEM\_\-W\_\-KEY, SHM\_\-KEY, data\_\-collect::shm\_\-size, data\_\-collect::shmid, and data\_\-collect::use\_\-mode.

Referenced by main().

Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=122pt]{sharedmemory_8h_a42c35f28b7b42451353f0fa2c273713a_cgraph}
\end{center}
\end{figure}
\hypertarget{sharedmemory_8h_a06d8598f2e23fda3712b03936627b41b}{
\index{sharedmemory.h@{sharedmemory.h}!parseParameter@{parseParameter}}
\index{parseParameter@{parseParameter}!sharedmemory.h@{sharedmemory.h}}
\subsubsection[{parseParameter}]{\setlength{\rightskip}{0pt plus 5cm}int parseParameter (int {\em argc}, \/  char $\ast$ {\em argv}\mbox{[}$\,$\mbox{]})}}
\label{sharedmemory_8h_a06d8598f2e23fda3712b03936627b41b}
parseParameter

get the size of the ringbuffer out of the given parameters

\begin{DoxyReturn}{Returns}
$>$0 or -\/1
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
\item[{\em $>$0}]==$>$ Everything OK \item[{\em -\/1}]==$>$ Somthing goes wrong \end{DoxyRetVals}


Definition at line 201 of file sharedfunctions.c.

Referenced by main().